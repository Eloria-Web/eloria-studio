const I18N_STRINGS = {
  es: {
    'nav.createAccount': 'Crear cuenta gratis',
    'nav.login': 'Iniciar sesión',
    'nav.signup': 'Crear cuenta',
    'nav.pricing': 'Precios',
    'nav.support': 'Ayuda',
    'nav.settings': 'Configuración',
    'nav.billing': 'Facturación',
    'nav.logout': 'Cerrar sesión',
    'nav.overview': 'Resumen',
    'nav.language': 'Idioma',
    'nav.theme': 'Tema',
    'nav.light': 'Claro',
    'nav.dark': 'Oscuro',

    'home.heroTitle': 'Todas tus redes, en una sola pestaña',
    'home.heroSubtitle': 'Planifica, mide y colabora sin fricción.',
    'home.heroCtaPrimary': 'Crea tu cuenta gratis',
    'home.heroCtaSecondary': 'Ver cómo funciona',
    'home.pricingTitle': 'Planes que crecen con tu social',

    'pricing.title': 'Planes que crecen con tu social',
    'pricing.subtitle': 'Empieza gratis. Sube cuando tu equipo y canales crezcan.',
    'pricing.popular': 'Más popular',
    'pricing.freeDesc': 'Para comenzar y probar Eloria Studio.',
    'pricing.creatorDesc': 'Para creadores y equipos pequeños.',
    'pricing.businessDesc': 'Para equipos internos y marcas en crecimiento.',
    'pricing.agencyDesc': 'Para agencias con muchos clientes.',
    'pricing.freeTitle': 'Gratis',
    'pricing.creatorTitle': 'Creator',
    'pricing.businessTitle': 'Business',
    'pricing.agencyTitle': 'Agency',
    'pricing.startFree': 'Empezar gratis',
    'pricing.payPal': 'Pagar con PayPal',
    'pricing.stripe': 'Pagar con Stripe',
    'pricing.trialNote': 'Incluye 14 días de prueba',
    'features.free.users': '1 usuario, 1 marca',
    'features.free.calendar': 'Calendario básico y programación',
    'features.free.links': 'SmartLinks limitados',
    'features.creator.users': '1 usuario, 3 marcas',
    'features.creator.brands': '3 marcas',
    'features.creator.analytics': 'Analíticas estándar',
    'features.creator.reports': 'Reportes básicos',
    'features.creator.ai': 'IA limitada',
    'features.creator.links': 'SmartLinks ilimitados',
    'features.business.users': '5 usuarios, 10 marcas',
    'features.business.brands': '10 marcas',
    'features.business.reports': 'Reportes avanzados',
    'features.business.roles': 'Roles y permisos',
    'features.business.inbox': 'Inbox completo',
    'features.business.links': 'SmartLinks ilimitados',
    'features.business.support': 'Soporte prioritario',
    'features.agency.users': 'Usuarios ilimitados',
    'features.agency.brands': 'Marcas ilimitadas',
    'features.agency.workspaces': 'Workspaces',
    'features.agency.reports': 'Reportes white-label',
    'features.agency.approvals': 'Flujos de aprobación',
    'features.agency.discounts': 'Descuentos por volumen',
    'features.agency.support': 'Soporte dedicado',

    'auth.loginTitle': 'Bienvenido/a',
    'auth.loginSubtitle': 'Inicia sesión en tu cuenta de Eloria Studio',
    'auth.signupTitle': 'Crea tu cuenta',
    'auth.signupSubtitle': 'Gestiona todas tus redes en un solo lugar',
    'auth.email': 'Correo',
    'auth.emailPlaceholder': 'tu@ejemplo.com',
    'auth.password': 'Contraseña',
    'auth.passwordPlaceholder': 'Ingresa tu contraseña',
    'auth.passwordMinPlaceholder': 'Al menos 8 caracteres',
    'auth.confirmPassword': 'Confirmar contraseña',
    'auth.confirmPlaceholder': 'Repite tu contraseña',
    'auth.remember': 'Recordarme',
    'auth.forgot': '¿Olvidaste tu contraseña?',
    'auth.loginBtn': 'Iniciar sesión',
    'auth.signupBtn': 'Crear cuenta',
    'auth.resetTitle': 'Recuperar contraseña',
    'auth.resetSubtitle': 'Te enviaremos un enlace para restablecerla',
    'auth.resetBtn': 'Enviar enlace',
    'auth.passwordStrength': 'Fortaleza de la contraseña',
    'auth.haveAccount': '¿Ya tienes cuenta?',
    'auth.noAccount': '¿No tienes cuenta?',
    'auth.termsPrefix': 'Acepto los',
    'auth.termsLink': 'Términos de Servicio',
    'auth.termsAnd': 'y',
    'auth.privacyLink': 'Política de Privacidad',

    'checkout.title': 'Finalizar compra',
    'checkout.orderSummary': 'Resumen del pedido',
    'checkout.includes': 'Incluye:',
    'checkout.subtotal': 'Subtotal',
    'checkout.total': 'Total',
    'checkout.trialTitle': 'Incluye 14 días de prueba',
    'checkout.trialSubtitle': 'No se te cobrará hasta que termine la prueba',
    'checkout.paymentTitle': 'Método de pago',
    'checkout.loginNote': 'Debes iniciar sesión para continuar.',
    'checkout.loginBtn': 'Inicia sesión para continuar',
    'checkout.processing': 'Procesando...',
    'checkout.or': 'o',
    'checkout.secureNote': 'Haz clic para continuar con Stripe',
    'checkout.secure': 'Pago seguro',
    'checkout.cta': 'Comenzar prueba gratis',
    'checkout.features.brands': 'Hasta 3 marcas',
    'checkout.features.analytics': 'Analíticas estándar y reportes básicos',
    'checkout.features.ai': 'Asistencia de IA limitada',

    'dashboard.welcome': '¡Bienvenido/a de nuevo,',
    'dashboard.subtitle': 'Esto es lo que pasa con tus redes',
    'dashboard.planTitle': 'Tu plan',
    'dashboard.brandsTitle': 'Marcas',
    'dashboard.connectionsTitle': 'Conexiones',
    'dashboard.composeTitle': 'Componer',
    'dashboard.adaptationsTitle': 'Adaptaciones',
    'dashboard.statusTitle': 'Estado de publicación',
    'dashboard.metricsTitle': 'Métricas',
    'dashboard.getStarted': 'Comenzar',
    'dashboard.activeBrand': 'Marca activa',
    'dashboard.newBrand': 'Nombre de nueva marca',
    'dashboard.create': 'Crear',
    'dashboard.masterPost': 'Post maestro',
    'dashboard.link': 'Enlace (opcional)',
    'dashboard.images': 'URLs de imagen (separadas por coma)',
    'dashboard.video': 'URL de video (requerido para TikTok/YouTube)',
    'dashboard.hashtags': 'Hashtags (opcional, separados por coma)',
    'dashboard.selectNetworks': 'Seleccionar redes',
    'dashboard.selectFormats': 'Seleccionar formatos',
    'dashboard.schedule': 'Programar (UTC)',
    'dashboard.saveDraft': 'Guardar borrador',
    'dashboard.scheduleBtn': 'Programar',
    'dashboard.lastUpdated': 'Última actualización',
    'dashboard.helper.brands': 'Las marcas son workspaces. Los límites se aplican en servidor.',
    'dashboard.helper.connections': 'Conecta solo las 6 redes del MVP. Las diferidas muestran "Próximamente".',
    'dashboard.helper.hashtags': 'Instagram: 5–8 hashtags recomendados · TikTok: 3–5 · LinkedIn: mínimos · X: texto corto + link',
    'dashboard.helper.formats': 'Elige Feed/Stories/Shorts/Largo por red seleccionada.',
    'dashboard.helper.timezone': 'Las fechas se guardan en UTC y se muestran en tu horario local.',
    'dashboard.helper.statuses': 'Estados: Borrador, Programado, Publicando, Publicado, Parcial, Fallido.',
    'dashboard.paymentSuccessTitle': '¡Pago exitoso!',
    'dashboard.paymentSuccessSubtitle': 'Tu suscripción está activa.',
    'dashboard.trialDays': 'días restantes de prueba',
    'dashboard.trialNote': 'La suscripción comenzará automáticamente al finalizar la prueba',
    'dashboard.upgradePlan': 'Actualizar plan',
    'dashboard.msg.brandLoadError': 'No se pudieron cargar las marcas.',
    'dashboard.msg.brandFirst': 'Crea tu primera marca',
    'dashboard.msg.brandNone': 'Aún no hay marcas',
    'dashboard.msg.brandNameRequired': 'El nombre de la marca es obligatorio.',
    'dashboard.msg.brandCreateError': 'No se pudo crear la marca.',
    'dashboard.msg.brandCreated': 'Marca creada.',
    'dashboard.msg.selectNetwork': 'Elige al menos una red para seleccionar formatos.',
    'dashboard.msg.adaptationsEmpty': 'Selecciona redes y formatos para ver adaptaciones.',
    'dashboard.msg.validationPrefix': 'Validación',
    'dashboard.msg.selectBrand': 'Selecciona una marca antes de guardar.',
    'dashboard.msg.selectFormat': 'Selecciona al menos un formato.',
    'dashboard.msg.scheduleDate': 'Agrega fecha y hora antes de programar.',
    'dashboard.msg.postSaveError': 'No se pudo guardar el post.',
    'dashboard.msg.adaptationsError': 'Post guardado, pero las adaptaciones fallaron.',
    'dashboard.msg.scheduleError': 'Post guardado, pero la programación falló.',
    'dashboard.msg.scheduled': 'Programado correctamente.',
    'dashboard.msg.draftSaved': 'Borrador guardado.',
    'dashboard.msg.connectionsEmpty': 'Aún no hay conexiones.',
    'dashboard.msg.connectionsError': 'No se pudieron cargar las conexiones.',

    'plan.free': 'Gratis',
    'plan.creator': 'Creator',
    'plan.business': 'Business',
    'plan.agency': 'Agency',
    'plan.suffix': 'Plan',
    'plan.freeDetail': 'Estás en el plan gratis',
    'status.trial': 'Prueba',
    'status.active': 'Activo',
    'status.inactive': 'Inactivo',
    'status.activeDetail': 'Tu suscripción está activa',
    'status.draft': 'Borrador',
    'status.needsReview': 'Revisar',
    'status.scheduledWait': 'Programado · En espera',
    'status.draftNotScheduled': 'Borrador · No programado',
    'format.feed': 'Feed',
    'format.stories': 'Stories',
    'format.shorts': 'Shorts',
    'format.long': 'Largo',
    'table.network': 'Red',
    'table.format': 'Formato',
    'table.status': 'Estado',
    'metrics.followers': 'Seguidores',
    'metrics.likes': 'Me gusta',
    'metrics.comments': 'Comentarios',
    'metrics.views': 'Vistas',
    'metrics.engagement': 'Engagement',
    'checklist.account': 'Cuenta creada',
    'checklist.connect': 'Conecta tu primera red social',
    'checklist.schedule': 'Programa tu primer post',
    'checklist.invite': 'Invita a un miembro del equipo',

    'network.active': 'Activo',
    'network.connected': 'Conectado',
    'network.connect': 'Conectar',
    'network.soon': 'Próximamente',

    'validation.needsTextOrMedia': '{network} {format} requiere texto o media.',
    'validation.storiesNeedMedia': '{network} Stories requiere imagen o video.',
    'validation.tiktokVideo': 'TikTok requiere una URL de video.',
    'validation.youtubeVideo': 'YouTube Shorts/Largo requiere una URL de video.',
    'validation.xCopy': 'X requiere texto corto.',
    'validation.xLength': 'X debe tener 280 caracteres o menos.',
    'validation.linkedinNeeds': 'LinkedIn Feed requiere texto o enlace.',

    'legal.termsTitle': 'Términos de Servicio',
    'legal.privacyTitle': 'Política de Privacidad',
    'legal.pending': 'Contenido legal pendiente.'
  },
  en: {
    'nav.createAccount': 'Create free account',
    'nav.login': 'Log in',
    'nav.signup': 'Create account',
    'nav.pricing': 'Pricing',
    'nav.support': 'Help',
    'nav.settings': 'Settings',
    'nav.billing': 'Billing',
    'nav.logout': 'Log out',
    'nav.overview': 'Overview',
    'nav.language': 'Language',
    'nav.theme': 'Theme',
    'nav.light': 'Light',
    'nav.dark': 'Dark',

    'home.heroTitle': 'All your social, in one tab',
    'home.heroSubtitle': 'Plan, measure, and collaborate without the hassle.',
    'home.heroCtaPrimary': 'Create your free account',
    'home.heroCtaSecondary': 'See how it works',
    'home.pricingTitle': 'Plans that grow with your social',

    'pricing.title': 'Plans that grow with your social',
    'pricing.subtitle': 'Start free. Upgrade when your team and channels grow.',
    'pricing.popular': 'Most Popular',
    'pricing.freeDesc': 'For getting started and testing Eloria Studio.',
    'pricing.creatorDesc': 'For creators and small teams.',
    'pricing.businessDesc': 'For in-house teams and growing brands.',
    'pricing.agencyDesc': 'For agencies with many clients.',
    'pricing.freeTitle': 'Free',
    'pricing.creatorTitle': 'Creator',
    'pricing.businessTitle': 'Business',
    'pricing.agencyTitle': 'Agency',
    'pricing.startFree': 'Start free',
    'pricing.payPal': 'Pay with PayPal',
    'pricing.stripe': 'Pay with Stripe',
    'pricing.trialNote': '14-day free trial included',
    'features.free.users': '1 user, 1 brand',
    'features.free.calendar': 'Basic calendar and scheduling',
    'features.free.links': 'Limited SmartLinks',
    'features.creator.users': '1 user, 3 brands',
    'features.creator.brands': '3 brands',
    'features.creator.analytics': 'Standard analytics',
    'features.creator.reports': 'Basic reports',
    'features.creator.ai': 'Limited AI features',
    'features.creator.links': 'Unlimited SmartLinks',
    'features.business.users': '5 users, 10 brands',
    'features.business.brands': '10 brands',
    'features.business.reports': 'Advanced reports',
    'features.business.roles': 'Roles & permissions',
    'features.business.inbox': 'Full Inbox features',
    'features.business.links': 'Unlimited SmartLinks',
    'features.business.support': 'Priority support',
    'features.agency.users': 'Unlimited users',
    'features.agency.brands': 'Unlimited brands',
    'features.agency.workspaces': 'Workspaces',
    'features.agency.reports': 'White-label reports',
    'features.agency.approvals': 'Approval workflows',
    'features.agency.discounts': 'Volume discounts',
    'features.agency.support': 'Dedicated support',

    'auth.loginTitle': 'Welcome back',
    'auth.loginSubtitle': 'Log in to your Eloria Studio account',
    'auth.signupTitle': 'Create your account',
    'auth.signupSubtitle': 'Start managing all your social media in one place',
    'auth.email': 'Email',
    'auth.emailPlaceholder': 'you@example.com',
    'auth.password': 'Password',
    'auth.passwordPlaceholder': 'Enter your password',
    'auth.passwordMinPlaceholder': 'At least 8 characters',
    'auth.confirmPassword': 'Confirm Password',
    'auth.confirmPlaceholder': 'Re-enter your password',
    'auth.remember': 'Remember me',
    'auth.forgot': 'Forgot password?',
    'auth.loginBtn': 'Log In',
    'auth.signupBtn': 'Create Account',
    'auth.resetTitle': 'Reset password',
    'auth.resetSubtitle': 'We will send you a reset link',
    'auth.resetBtn': 'Send link',
    'auth.passwordStrength': 'Password strength',
    'auth.haveAccount': 'Already have an account?',
    'auth.noAccount': "Don't have an account?",
    'auth.termsPrefix': 'I agree to the',
    'auth.termsLink': 'Terms of Service',
    'auth.termsAnd': 'and',
    'auth.privacyLink': 'Privacy Policy',

    'checkout.title': 'Checkout',
    'checkout.orderSummary': 'Order Summary',
    'checkout.includes': "What's included:",
    'checkout.subtotal': 'Subtotal',
    'checkout.total': 'Total',
    'checkout.trialTitle': '14-day free trial included',
    'checkout.trialSubtitle': "You won't be charged until after your trial ends",
    'checkout.paymentTitle': 'Payment Method',
    'checkout.loginNote': 'You must be logged in to continue.',
    'checkout.loginBtn': 'Please log in to continue',
    'checkout.processing': 'Processing...',
    'checkout.or': 'or',
    'checkout.secureNote': 'Click below to continue with Stripe',
    'checkout.secure': 'Secure checkout',
    'checkout.cta': 'Start Free Trial',
    'checkout.features.brands': 'Up to 3 brands',
    'checkout.features.analytics': 'Standard analytics and basic reports',
    'checkout.features.ai': 'Limited AI assistance',

    'dashboard.welcome': 'Welcome back,',
    'dashboard.subtitle': "Here's what's happening with your social media",
    'dashboard.planTitle': 'Your Plan',
    'dashboard.brandsTitle': 'Brands',
    'dashboard.connectionsTitle': 'Connections',
    'dashboard.composeTitle': 'Compose',
    'dashboard.adaptationsTitle': 'Adaptations',
    'dashboard.statusTitle': 'Publishing Status',
    'dashboard.metricsTitle': 'Metrics',
    'dashboard.getStarted': 'Get Started',
    'dashboard.activeBrand': 'Active brand',
    'dashboard.newBrand': 'New brand name',
    'dashboard.create': 'Create',
    'dashboard.masterPost': 'Master post',
    'dashboard.link': 'Link (optional)',
    'dashboard.images': 'Image URLs (comma-separated)',
    'dashboard.video': 'Video URL (required for TikTok/YouTube)',
    'dashboard.hashtags': 'Hashtags (optional, comma-separated)',
    'dashboard.selectNetworks': 'Select networks',
    'dashboard.selectFormats': 'Select formats',
    'dashboard.schedule': 'Schedule (UTC)',
    'dashboard.saveDraft': 'Save draft',
    'dashboard.scheduleBtn': 'Schedule',
    'dashboard.lastUpdated': 'Last updated',
    'dashboard.helper.brands': 'Brands are workspaces. Limits are enforced server-side.',
    'dashboard.helper.connections': 'Connect only the 6 MVP networks. Deferred networks show "Coming soon".',
    'dashboard.helper.hashtags': 'Instagram: 5–8 hashtags recommended · TikTok: 3–5 · LinkedIn: minimal · X: short copy + link',
    'dashboard.helper.formats': 'Choose Feed/Stories/Shorts/Long-form for each selected network.',
    'dashboard.helper.timezone': 'Times are saved in UTC and shown in your local timezone.',
    'dashboard.helper.statuses': 'States: Draft, Scheduled, Publishing, Published, Partially published, Failed.',
    'dashboard.paymentSuccessTitle': 'Payment successful!',
    'dashboard.paymentSuccessSubtitle': 'Your subscription is now active.',
    'dashboard.trialDays': 'days left in your trial',
    'dashboard.trialNote': 'Your subscription will start automatically after the trial',
    'dashboard.upgradePlan': 'Upgrade plan',
    'dashboard.msg.brandLoadError': 'Could not load brands.',
    'dashboard.msg.brandFirst': 'Create your first brand',
    'dashboard.msg.brandNone': 'No brands yet',
    'dashboard.msg.brandNameRequired': 'Brand name is required.',
    'dashboard.msg.brandCreateError': 'Could not create brand.',
    'dashboard.msg.brandCreated': 'Brand created.',
    'dashboard.msg.selectNetwork': 'Choose at least one network to select formats.',
    'dashboard.msg.adaptationsEmpty': 'Select networks and formats to preview adaptations.',
    'dashboard.msg.validationPrefix': 'Validation',
    'dashboard.msg.selectBrand': 'Select a brand before saving.',
    'dashboard.msg.selectFormat': 'Select at least one format.',
    'dashboard.msg.scheduleDate': 'Add a schedule date before scheduling.',
    'dashboard.msg.postSaveError': 'Could not save post.',
    'dashboard.msg.adaptationsError': 'Post saved, but adaptations failed.',
    'dashboard.msg.scheduleError': 'Post saved, but schedule failed.',
    'dashboard.msg.scheduled': 'Scheduled successfully.',
    'dashboard.msg.draftSaved': 'Draft saved.',
    'dashboard.msg.connectionsEmpty': 'Connections not available yet.',
    'dashboard.msg.connectionsError': 'Unable to load connections.',

    'plan.free': 'Free',
    'plan.creator': 'Creator',
    'plan.business': 'Business',
    'plan.agency': 'Agency',
    'plan.suffix': 'Plan',
    'plan.freeDetail': "You're on the free plan",
    'status.trial': 'Trial',
    'status.active': 'Active',
    'status.inactive': 'Inactive',
    'status.activeDetail': 'Your subscription is active',
    'status.draft': 'Draft',
    'status.needsReview': 'Needs review',
    'status.scheduledWait': 'Scheduled · Waiting for publish',
    'status.draftNotScheduled': 'Draft · Not scheduled',
    'format.feed': 'Feed',
    'format.stories': 'Stories',
    'format.shorts': 'Shorts',
    'format.long': 'Long-form',
    'table.network': 'Network',
    'table.format': 'Format',
    'table.status': 'Status',
    'metrics.followers': 'Followers',
    'metrics.likes': 'Likes',
    'metrics.comments': 'Comments',
    'metrics.views': 'Views',
    'metrics.engagement': 'Engagement',
    'checklist.account': 'Account created',
    'checklist.connect': 'Connect your first social account',
    'checklist.schedule': 'Schedule your first post',
    'checklist.invite': 'Invite a team member',

    'network.active': 'Active',
    'network.connected': 'Connected',
    'network.connect': 'Connect',
    'network.soon': 'Coming soon',

    'validation.needsTextOrMedia': '{network} {format} needs text or media.',
    'validation.storiesNeedMedia': '{network} Stories require an image or video.',
    'validation.tiktokVideo': 'TikTok requires a video URL.',
    'validation.youtubeVideo': 'YouTube Shorts/Long-form require a video URL.',
    'validation.xCopy': 'X requires short copy.',
    'validation.xLength': 'X copy must be 280 characters or fewer.',
    'validation.linkedinNeeds': 'LinkedIn Feed needs text or a link.',

    'legal.termsTitle': 'Terms of Service',
    'legal.privacyTitle': 'Privacy Policy',
    'legal.pending': 'Legal copy pending.'
  }
};

function getPreferredLanguage() {
  return localStorage.getItem('eloria_lang') || 'es';
}

function setPreferredLanguage(lang) {
  localStorage.setItem('eloria_lang', lang);
  applyLanguage(lang);
}

function applyLanguage(lang) {
  const strings = I18N_STRINGS[lang] || I18N_STRINGS.es;
  document.documentElement.lang = lang;

  document.querySelectorAll('[data-i18n]').forEach((el) => {
    const key = el.getAttribute('data-i18n');
    if (strings[key]) {
      el.textContent = strings[key];
    }
  });

  document.querySelectorAll('[data-i18n-placeholder]').forEach((el) => {
    const key = el.getAttribute('data-i18n-placeholder');
    if (strings[key]) {
      el.setAttribute('placeholder', strings[key]);
    }
  });

  document.querySelectorAll('[data-i18n-value]').forEach((el) => {
    const key = el.getAttribute('data-i18n-value');
    if (strings[key]) {
      el.value = strings[key];
    }
  });

  if (typeof window.applyTheme === 'function') {
    const currentTheme = document.documentElement.getAttribute('data-theme') || 'light';
    window.applyTheme(currentTheme);
  }
}

document.addEventListener('DOMContentLoaded', () => {
  const langSelect = document.getElementById('langSelect');
  const preferred = getPreferredLanguage();

  applyLanguage(preferred);

  if (langSelect) {
    langSelect.value = preferred;
    langSelect.addEventListener('change', (event) => {
      setPreferredLanguage(event.target.value);
    });
  }
});

window.I18N_STRINGS = I18N_STRINGS;
window.applyLanguage = applyLanguage;
